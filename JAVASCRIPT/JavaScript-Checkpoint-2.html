<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function reverseString(str) {
        // Step 1: Check if input is a string and not empty
        if (typeof str !== "string" || str.length === 0) {
          return "Invalid input";
        }

        // Step 2: Split string into array, reverse it, and join back
        return str.split("").reverse().join("");
      }
      console.log(reverseString("olleh"));
      console.log(reverseString(""));

      function countCharacters(str, excludeSpaces = false) {
        // Step 1: Check if input is a string
        if (typeof str !== "string") {
          return "Invalid input";
        }

        // Step 2: If excludeSpaces is true, remove spaces
        if (excludeSpaces) {
          str = str.replace(/\s/g, "");
        }

        // Step 3: Return the length of the string
        return str.length;
      }

      console.log(countCharacters("Hello World"));
      console.log(countCharacters("Hello World", true));

      function capitalizeWords(str) {
        // Step 1: Check if input is a string
        if (typeof str !== "string" || str.length === 0) {
          return "Invalid input";
        }

        // Step 2: Split string into words
        const words = str.split(" ");

        // Step 3: Capitalize first letter of each word
        const capitalized = words.map((word) => {
          if (word.length === 0) return word;
          return word[0].toUpperCase() + word.slice(1).toLowerCase();
        });

        // Step 4: Join words back into a string
        return capitalized.join(" ");
      }
      console.log(capitalizeWords("hello world"));
      console.log(capitalizeWords(""));

      function findMax(arr) {
        // Step 1: Check if input is an array and contains numbers
        if (
          !Array.isArray(arr) ||
          arr.length === 0 ||
          !arr.every((num) => typeof num === "number")
        ) {
          return "Invalid input";
        }

        // Step 2: Find maximum value
        let max = arr[0];
        for (let i = 1; i < arr.length; i++) {
          if (arr[i] > max) {
            max = arr[i];
          }
        }

        return max;
      }

      function findMin(arr) {
        // Step 1: Check if input is an array and contains numbers
        if (
          !Array.isArray(arr) ||
          arr.length === 0 ||
          !arr.every((num) => typeof num === "number")
        ) {
          return "Invalid input";
        }

        // Step 2: Find minimum value
        let min = arr[0];
        for (let i = 1; i < arr.length; i++) {
          if (arr[i] < min) {
            min = arr[i];
          }
        }

        return min;
      }

      console.log(findMax([1, 5, 3]));
      console.log(findMin([1, 5, 3]));
      console.log(findMax([]));

      function sumArray(arr) {
        // Step 1: Check if input is an array and contains numbers
        if (
          !Array.isArray(arr) ||
          arr.length === 0 ||
          !arr.every((num) => typeof num === "number")
        ) {
          return "Invalid input";
        }

        // Step 2: Calculate sum
        let sum = 0;
        for (let num of arr) {
          sum += num;
        }

        return sum;
      }

      console.log(sumArray([1, 2, 3]));
      console.log(sumArray([]));

      function filterArray(arr, condition) {
        // Step 1: Check if input is an array and condition is a function
        if (!Array.isArray(arr) || typeof condition !== "function") {
          return "Invalid input";
        }

        // Step 2: Create new array with elements that pass the condition
        const filtered = [];
        for (let element of arr) {
          if (condition(element)) {
            filtered.push(element);
          }
        }

        return filtered;
      }

      console.log(filterArray([1, 6, 3, 8], (num) => num > 5));
      console.log(filterArray([1, 2, 3], "not a function"));

      function factorial(n) {
        // Step 1: Check if input is a non-negative integer
        if (!Number.isInteger(n) || n < 0) {
          return "Invalid input";
        }

        // Step 2: Handle base cases (0! and 1! are 1)
        if (n === 0 || n === 1) {
          return 1;
        }

        // Step 3: Calculate factorial
        let result = 1;
        for (let i = 2; i <= n; i++) {
          result *= i;
        }

        return result;
      }

      console.log(factorial(5));
      console.log(factorial(-1));

      function isPrime(n) {
        // Step 1: Check if input is a positive integer greater than 1
        if (!Number.isInteger(n) || n <= 1) {
          return false;
        }

        // Step 2: Check for divisibility up to square root of n
        for (let i = 2; i <= Math.sqrt(n); i++) {
          if (n % i === 0) {
            return false; // Not prime if divisible
          }
        }

        return true; // Prime if no divisors found
      }

      console.log(isPrime(7));
      console.log(isPrime(4));

      function fibonacci(n) {
        // Step 1: Check if input is a positive integer
        if (!Number.isInteger(n) || n <= 0) {
          return "Invalid input";
        }

        // Step 2: Handle base cases
        if (n === 1) return [0];
        if (n === 2) return [0, 1];

        // Step 3: Generate Fibonacci sequence
        const sequence = [0, 1];
        for (let i = 2; i < n; i++) {
          sequence.push(sequence[i - 1] + sequence[i - 2]);
        }

        return sequence;
      }

      console.log(fibonacci(5));
      console.log(fibonacci(0));
    </script>
  </body>
</html>
